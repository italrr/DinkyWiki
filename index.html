<!DOCTYPE html>
<html>
    <head id="head">
        <title>DinkyWiki</title>

        <meta charset="UTF-8">
        <script src="dinkywiki.js"></script>
        <script type="text/javascript">
            
            console.log("test")

            const dinkywiki = DinkyWiki("The Animal Wiki", DinkyWikiTools.WIKI_TYPE.TYPICAL, {
                topbarbackground: '#201229',
                navegationBackground: '#1d0c29',
                bodyBackground: '#0c0c0c',
                textGeneric: "#fff",
                highlight: "#ffffaa"
            });
    
            // Start Wiki
            setTimeout(() => {
                console.log("timeout");
                dinkywiki.registerArticles([
                    'home',
                    'bear',
                    'bird',
                    'styling'
                ]).then(function(){
                    console.log("init");
                    dinkywiki.init(document.getElementById("body"));

                });      
                console.log(dinkywiki);
                // Set `enter` key bind for search
                const tbSearchBar = document.getElementById('tb-search-input');              
                tbSearchBar.addEventListener("keyup", function(event) {
                    event.preventDefault();
                    if (event.keyCode === 13) {
                        onSearch();
                    }
                });
            }, 500);

            debugger

            // Handle search
            const onSearch = function(){
                const value = document.getElementById('tb-search-input').value;
                if(value.length == 0){
                    alert("Empty query");
                    return;
                }
                dinkywiki.search(value);
            };

    
        </script>        

    </head>
    <body id="body" style="padding: 0px; margin: 0px; border: 0px; display: flex; flex-direction: column; overflow-y: scroll; overflow-x: hidden; font-family: 'helvetica'; opacity: 0;">
        <div style="width: 100%; height: 5rem; display: flex; flex-direction: row; font-size: 1.5rem;">
            <div style="flex:1; text-align: center; display: flex; flex-direction: column;">
                <div style="flex:1;"></div>
                <div id="tb-title" style="font-size: 1.1em; text-decoration: underline;">
                    TITLE
                </div>
                <div style="flex:1;"></div>
            </div>
            <div style="flex:1; text-align: center; display: flex; flex-direction: column;">
                <div style="flex:1;"></div>
                <div style="font-size: 1em;">
                    Search 
                    <input id="tb-search-input" style="font-size: 1em;" type="text" placeholder="Name or term..."></input>
                    <button onclick="onSearch()" id="tb-search-go" style="font-size: 1em;">Go</button>
                </div>
                <div style="flex:1;"></div>
            </div>
        </div>
        
    </body>
</html>